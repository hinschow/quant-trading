# æ–¹æ¡ˆD-Stage1 æ‰§è¡ŒæŒ‡å—ï¼ˆæ¸è¿›å¼çµæ´»åŒ–ç¬¬1é˜¶æ®µï¼‰

## ğŸ“‹ å¿«é€Ÿæ¦‚è§ˆ

**ç‰ˆæœ¬**: v6.0 (æ–¹æ¡ˆD-Stage1)
**å®æ–½æ—¶é—´**: 2025-10-28
**ç­–ç•¥**: æ¸è¿›å¼å‚æ•°æ”¾å®½ï¼Œå¢åŠ äº¤æ˜“æœºä¼š
**ç›®æ ‡**: äº¤æ˜“æ•° 11ç¬”â†’14-18ç¬”ï¼Œæ”¶ç›Š +4.52%â†’+5~7%

---

## ğŸ¯ ç¬¬1é˜¶æ®µæ”¹è¿›å†…å®¹

### æ ¸å¿ƒä¿®æ”¹ï¼ˆä»…2é¡¹ï¼Œä¿å®ˆå®‰å…¨ï¼‰ï¼š

#### 1ï¸âƒ£ **é™ä½ADXè¦æ±‚**ï¼š30 â†’ 25

```python
"adx_threshold": 25  # ä»30é™åˆ°25
```

**ç†ç”±**ï¼š
- 30må‘¨æœŸçš„ADXæ™®éä½äº1hå‘¨æœŸ
- æ–¹æ¡ˆBå›æµ‹ä¸­å‘ç°å¾ˆå¤šæœ‰æ•ˆè¶‹åŠ¿ADXåœ¨25-29ä¹‹é—´
- æ”¾å®½ADXå¯ä»¥æ•æ‰æ›´å¤šçœŸå®è¶‹åŠ¿

**é¢„æœŸ**ï¼š+30-40%äº¤æ˜“æœºä¼š

---

#### 2ï¸âƒ£ **é™ä½ä¿¡å·å¼ºåº¦é˜ˆå€¼**ï¼š

| å“ç§ | æ–¹æ¡ˆB | æ–¹æ¡ˆD-Stage1 | é™å¹… | é¢„æœŸäº¤æ˜“æ•° |
|------|-------|-------------|------|-----------|
| BTC | 60 | **55** | -5 | 2ç¬” â†’ 5-6ç¬” |
| ETH | 65 | **60** | -5 | 5ç¬” â†’ 7-8ç¬” |
| SOL | 60 | **55** | -5 | 4ç¬” â†’ 6-8ç¬” |

**ç†ç”±**ï¼š
- BTCåªæœ‰2ç¬”äº¤æ˜“ï¼Œæ ·æœ¬é‡ä¸¥é‡ä¸è¶³
- é™ä½5ä¸ªç‚¹æ˜¯ä¿å®ˆçš„è°ƒæ•´
- ä¿æŒé‡ä»·èƒŒç¦»è¿‡æ»¤ä½œä¸ºå®‰å…¨ç½‘

---

### ğŸ“Š å®Œæ•´å‚æ•°å¯¹æ¯”

| å‚æ•° | æ–¹æ¡ˆB | æ–¹æ¡ˆD-Stage1 | è¯´æ˜ |
|------|-------|-------------|------|
| **BTC min_signal_strength** | 60 | **55** â¬‡ï¸ | å¢åŠ æœºä¼š |
| **BTC adx_threshold** | 30 | **25** â¬‡ï¸ | æ”¾å®½è¶‹åŠ¿ |
| BTC stop_loss | 3% | 3% âœ“ | ä¿æŒ |
| BTC take_profit | 5% | 5% âœ“ | ä¿æŒ |
| BTC min_signal_with_divergence | 75 | 75 âœ“ | ä¿æŒ |
| **ETH min_signal_strength** | 65 | **60** â¬‡ï¸ | å¢åŠ æœºä¼š |
| **ETH adx_threshold** | 30 | **25** â¬‡ï¸ | æ”¾å®½è¶‹åŠ¿ |
| ETH stop_loss | 3% | 3% âœ“ | ä¿æŒ |
| ETH take_profit | 5% | 5% âœ“ | ä¿æŒ |
| ETH min_signal_with_divergence | 75 | 75 âœ“ | ä¿æŒ |
| **SOL min_signal_strength** | 60 | **55** â¬‡ï¸ | ä¿å®ˆå¢åŠ  |
| **SOL adx_threshold** | 30 | **25** â¬‡ï¸ | æ”¾å®½è¶‹åŠ¿ |
| SOL stop_loss | 2.5% | 2.5% âœ“ | ä¿æŒ |
| SOL take_profit | 4.5% | 4.5% âœ“ | ä¿æŒ |
| SOL min_signal_with_divergence | 80 | 80 âœ“ | ä¿æŒ |

**å…³é”®**ï¼š
- âœ… **åªæ”¹äº†2ç±»å‚æ•°**ï¼ˆADXå’Œä¿¡å·é˜ˆå€¼ï¼‰
- âœ… **é£é™©ç®¡ç†ä¸å˜**ï¼ˆæ­¢æŸã€æ­¢ç›ˆã€èƒŒç¦»è¿‡æ»¤éƒ½ä¿æŒï¼‰
- âœ… **æ”¹åŠ¨ä¿å®ˆ**ï¼ˆæ¯é¡¹åªé™ä½5ä¸ªç‚¹ï¼‰

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœåˆ†æ

### æ–¹æ¡ˆBå›æµ‹åŸºå‡†ï¼š

| å“ç§ | äº¤æ˜“æ•° | æ”¶ç›Š | èƒœç‡ | ç›ˆäºæ¯” |
|------|-------|------|------|--------|
| BTC | 2ç¬” | -3.37% | 0% | 0.00 |
| ETH | 5ç¬” | -0.31% | 40% | 0.97 |
| SOL | 4ç¬” | +8.21% | 50% | 2.21 |
| **æ€»è®¡** | **11ç¬”** | **+4.52%** | 36% | 1.37 |

### æ–¹æ¡ˆD-Stage1é¢„æœŸï¼š

| å“ç§ | é¢„æœŸäº¤æ˜“æ•° | é¢„æœŸæ”¶ç›Š | é€»è¾‘ |
|------|-----------|---------|------|
| BTC | **5-6ç¬”** | **-1% ~ +1%** | å¢åŠ 3-4ç¬”ä¸­ç­‰å¼ºåº¦ä¿¡å· |
| ETH | **7-8ç¬”** | **+1% ~ +3%** | å¢åŠ 2-3ç¬”ï¼Œçªç ´ç›ˆäºå¹³è¡¡ |
| SOL | **6-8ç¬”** | **+6% ~ +10%** | ä¿å®ˆå¢åŠ ï¼Œä¿æŒç›ˆåˆ©èƒ½åŠ› |
| **æ€»è®¡** | **18-22ç¬”** | **+6% ~ +9%** | äº¤æ˜“æ•°+64-100%ï¼Œæ”¶ç›Š+33-100% |

### å…³é”®å‡è®¾ï¼š

1. **æ–°å¢äº¤æ˜“è´¨é‡ â‰ˆ ç°æœ‰äº¤æ˜“**
   - 55-60å¼ºåº¦çš„ä¿¡å·è´¨é‡æ¥è¿‘60-65
   - ADX 25-30çš„è¶‹åŠ¿æœ‰æ•ˆæ€§æ¥è¿‘ADX 30+

2. **é‡ä»·èƒŒç¦»è¿‡æ»¤ä»ç„¶æœ‰æ•ˆ**
   - ç»§ç»­å±è”½å‡çªç ´ä¿¡å·
   - ä¿æŒ75/80çš„èƒŒç¦»é˜ˆå€¼

3. **BTCæ”¹å–„æœ€æ˜¾è‘—**
   - ä»2ç¬”â†’5-6ç¬”ï¼Œæ ·æœ¬é‡è¶³å¤Ÿ
   - æœ‰æœºä¼šä»è´Ÿæ”¶ç›Šè½¬æ­£

---

## ğŸš€ æ‰§è¡Œæ­¥éª¤

### æ­¥éª¤1ï¼šå¤‡ä»½æ–¹æ¡ˆBç»“æœ

```bash
cd ~/quant-trading

# å¤‡ä»½æ–¹æ¡ˆBçš„30må›æµ‹ç»“æœ
mkdir -p backtest_results/plan_b_30m
cp backtest_results/multi_timeframe/30m/*.csv backtest_results/plan_b_30m/

# ç¡®è®¤å¤‡ä»½
ls -lh backtest_results/plan_b_30m/
```

### æ­¥éª¤2ï¼šæ‹‰å–æœ€æ–°é…ç½®

```bash
git pull
```

### æ­¥éª¤3ï¼šéªŒè¯æ–¹æ¡ˆD-Stage1é…ç½®

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# éªŒè¯é…ç½®ï¼ˆä½¿ç”¨å·²æœ‰çš„éªŒè¯è„šæœ¬ï¼‰
python3 verify_plan_b.py
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… BTC min_signal_strength: 55
âœ… BTC adx_threshold: 25
âœ… ETH min_signal_strength: 60
âœ… ETH adx_threshold: 25
âœ… SOL min_signal_strength: 55
âœ… SOL adx_threshold: 25
```

**æ³¨æ„**ï¼šå¦‚æœæŠ¥é”™ï¼Œè¯´æ˜å‚æ•°ä¸ç¬¦åˆé¢„æœŸï¼Œéœ€è¦æ£€æŸ¥ã€‚

### æ­¥éª¤4ï¼šæ‰§è¡Œæ–¹æ¡ˆD-Stage1å›æµ‹

```bash
# ç¡®ä¿åœ¨è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# æ‰§è¡Œ30må›æµ‹ï¼ˆåªæµ‹è¯•30mï¼Œå› ä¸ºå·²è¯æ˜30mæœ€ä¼˜ï¼‰
python3 run_multi_timeframe_backtest.py
```

**é¢„è®¡æ—¶é—´**ï¼š5-10åˆ†é’Ÿ

### æ­¥éª¤5ï¼šå¯¹æ¯”æ–¹æ¡ˆBå’Œæ–¹æ¡ˆD-Stage1

```bash
# æ–¹æ¡ˆBç»“æœåœ¨ backtest_results/plan_b_30m/
# æ–¹æ¡ˆD-Stage1ç»“æœåœ¨ backtest_results/multi_timeframe/30m/

# å¿«é€ŸæŸ¥çœ‹å„å“ç§æ”¶ç›Š
echo "=== æ–¹æ¡ˆD-Stage1 ç»“æœ ==="
grep "SELL" backtest_results/multi_timeframe/30m/backtest_trades_BTC_USDT_30m.csv | wc -l
grep "SELL" backtest_results/multi_timeframe/30m/backtest_trades_ETH_USDT_30m.csv | wc -l
grep "SELL" backtest_results/multi_timeframe/30m/backtest_trades_SOL_USDT_30m.csv | wc -l
```

### æ­¥éª¤6ï¼šæäº¤ç»“æœ

```bash
git add .
git commit -m "æ–¹æ¡ˆD-Stage1å›æµ‹å®Œæˆï¼šæ¸è¿›å¼çµæ´»åŒ–ç¬¬1é˜¶æ®µ

- ADX: 30â†’25
- BTCé˜ˆå€¼: 60â†’55
- ETHé˜ˆå€¼: 65â†’60
- SOLé˜ˆå€¼: 60â†’55
- å›æµ‹ç»“æœ: [æ€»äº¤æ˜“æ•°: Xç¬”, æ€»æ”¶ç›Š: X%]"
git push
```

---

## âœ… æˆåŠŸæ ‡å‡†

### æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š

1. âœ… **äº¤æ˜“æ•°å¢åŠ **ï¼šæ€»è®¡ â‰¥14ç¬”ï¼ˆ+27%ï¼‰
2. âœ… **æ”¶ç›Šä¸é™**ï¼šæ€»æ”¶ç›Š â‰¥+4.5%ï¼ˆä¿æŒæˆ–ç•¥å¢ï¼‰
3. âœ… **èƒœç‡ç¨³å®š**ï¼šæ€»èƒœç‡ â‰¥30%ï¼ˆå…è®¸ç•¥å¾®ä¸‹é™ï¼‰

### ç†æƒ³æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š

1. ğŸŒŸ **äº¤æ˜“æ•°æ˜¾è‘—å¢åŠ **ï¼šæ€»è®¡ â‰¥18ç¬”ï¼ˆ+64%ï¼‰
2. ğŸŒŸ **æ”¶ç›Šæå‡**ï¼šæ€»æ”¶ç›Š â‰¥+6%ï¼ˆ+33%ï¼‰
3. ğŸŒŸ **BTCæ”¹å–„**ï¼šBTCæ”¶ç›Š > -2%ï¼ˆæˆ–äº¤æ˜“æ•°â‰¥5ç¬”ï¼‰
4. ğŸŒŸ **ETHç›ˆåˆ©**ï¼šETHæ”¶ç›Š > 0%

---

## ğŸ“Š å…³é”®æŒ‡æ ‡æ£€æŸ¥æ¸…å•

### äº¤æ˜“é¢‘ç‡æ£€æŸ¥

```bash
# BTCäº¤æ˜“æ•°ï¼ˆæ–¹æ¡ˆB: 2ç¬”ï¼Œç›®æ ‡: 5-6ç¬”ï¼‰
grep "BUY" backtest_results/multi_timeframe/30m/backtest_trades_BTC_USDT_30m.csv | wc -l

# ETHäº¤æ˜“æ•°ï¼ˆæ–¹æ¡ˆB: 5ç¬”ï¼Œç›®æ ‡: 7-8ç¬”ï¼‰
grep "BUY" backtest_results/multi_timeframe/30m/backtest_trades_ETH_USDT_30m.csv | wc -l

# SOLäº¤æ˜“æ•°ï¼ˆæ–¹æ¡ˆB: 4ç¬”ï¼Œç›®æ ‡: 6-8ç¬”ï¼‰
grep "BUY" backtest_results/multi_timeframe/30m/backtest_trades_SOL_USDT_30m.csv | wc -l
```

### ä¿¡å·å¼ºåº¦åˆ†å¸ƒ

```bash
# æ£€æŸ¥æ–°å¢ä¿¡å·æ˜¯å¦åœ¨55-60èŒƒå›´ï¼ˆBTCï¼‰
grep "BUY" backtest_results/multi_timeframe/30m/backtest_trades_BTC_USDT_30m.csv | cut -d',' -f7 | sort -n

# åº”è¯¥çœ‹åˆ°55-59çš„ä¿¡å·ï¼ˆæ–°å¢çš„ï¼‰
```

### æ”¶ç›Šå¯¹æ¯”

```bash
# æŸ¥çœ‹æœ€åä¸€ç¬”SELLçš„æ€»æ”¶ç›Š
tail -1 backtest_results/multi_timeframe/30m/backtest_trades_BTC_USDT_30m.csv
tail -1 backtest_results/multi_timeframe/30m/backtest_trades_ETH_USDT_30m.csv
tail -1 backtest_results/multi_timeframe/30m/backtest_trades_SOL_USDT_30m.csv
```

---

## ğŸ” ç»“æœåˆ†ææŒ‡å—

### æƒ…å†µ1ï¼šè¾¾åˆ°ç†æƒ³æ ‡å‡† âœ…âœ…

**è¡¨ç°**ï¼š
- äº¤æ˜“æ•°â‰¥18ç¬”
- æ€»æ”¶ç›Šâ‰¥+6%
- BTCå’ŒETHéƒ½æœ‰æ”¹å–„

**ä¸‹ä¸€æ­¥**ï¼š
- ğŸ‰ ç»§ç»­å®æ–½**ç¬¬2é˜¶æ®µ**ï¼ˆé‡ä»·èƒŒç¦»åˆ†çº§ï¼‰
- ç›®æ ‡ï¼šè¿›ä¸€æ­¥æå‡åˆ°+8-10%
- é¢„è®¡1-2å¤©åå®æ–½

---

### æƒ…å†µ2ï¼šè¾¾åˆ°æœ€ä½æ ‡å‡†ä½†æœªè¾¾ç†æƒ³ âš ï¸

**è¡¨ç°**ï¼š
- äº¤æ˜“æ•°14-17ç¬”ï¼ˆå¢åŠ äº†ä½†ä¸å¤šï¼‰
- æ€»æ”¶ç›Š+4.5-5.5%ï¼ˆä¿æŒæˆ–å°å¹…å¢åŠ ï¼‰
- BTCæ”¹å–„ä¸æ˜æ˜¾

**åˆ†æ**ï¼š
- é˜ˆå€¼é™ä½å¹…åº¦ä¸å¤Ÿï¼ˆ5ä¸ªç‚¹å¤ªä¿å®ˆï¼‰
- æˆ–è¯¥æ—¶æ®µç¡®å®æ²¡æœ‰55-60å¼ºåº¦çš„ä¿¡å·

**ä¸‹ä¸€æ­¥é€‰æ‹©**ï¼š
1. **è°¨æ…æ¨è¿›**ï¼šæš‚åœï¼Œç”¨å½“å‰é…ç½®å°èµ„é‡‘å®ç›˜éªŒè¯
2. **ç»§ç»­ä¼˜åŒ–**ï¼šç›´æ¥è¿›å…¥ç¬¬2é˜¶æ®µï¼Œçœ‹æ˜¯å¦èƒ½é€šè¿‡é‡ä»·èƒŒç¦»åˆ†çº§æ”¹å–„
3. **åŠ å¤§åŠ›åº¦**ï¼šè¿›ä¸€æ­¥é™ä½é˜ˆå€¼ï¼ˆBTC 55â†’50, ETH 60â†’55ï¼‰

---

### æƒ…å†µ3ï¼šæœªè¾¾åˆ°æœ€ä½æ ‡å‡† âŒ

**è¡¨ç°**ï¼š
- äº¤æ˜“æ•°<14ç¬”
- æˆ–æ”¶ç›Šä¸‹é™åˆ°<+4%
- æˆ–èƒœç‡å¤§å¹…ä¸‹é™<25%

**åˆ†æ**ï¼š
- å¯èƒ½é™ä½é˜ˆå€¼å¼•å…¥äº†å¤ªå¤šä½è´¨é‡ä¿¡å·
- æˆ–å¸‚åœºç¯å¢ƒä¸é€‚åˆè¯¥ç­–ç•¥

**ä¸‹ä¸€æ­¥**ï¼š
1. âª **å›é€€åˆ°æ–¹æ¡ˆB**
2. ğŸ” **è¯¦ç»†åˆ†æ**æ–°å¢äº¤æ˜“çš„å¤±è´¥åŸå› 
3. ğŸ¯ **è°ƒæ•´ç­–ç•¥**ï¼š
   - è€ƒè™‘åªé™ä½BTCé˜ˆå€¼ï¼Œä¿æŒETH/SOLä¸å˜
   - æˆ–å®æ–½ç¬¬2é˜¶æ®µï¼ˆé‡ä»·èƒŒç¦»åˆ†çº§ï¼‰ä½œä¸ºè¡¥æ•‘

---

## âš ï¸ é£é™©æç¤º

### ç¬¬1é˜¶æ®µçš„æ½œåœ¨é£é™©ï¼š

1. **å‡ä¿¡å·å¢å¤š**
   - 55-60å¼ºåº¦çš„ä¿¡å·è´¨é‡å¯èƒ½ä¸å¦‚60-65
   - ç¼“è§£ï¼šä¿æŒé‡ä»·èƒŒç¦»è¿‡æ»¤

2. **èƒœç‡ä¸‹é™**
   - æ›´å¤šäº¤æ˜“â†’æ›´å¤šæ­¢æŸå¯èƒ½
   - å¯æ¥å—èŒƒå›´ï¼š30-35%ï¼ˆvs æ–¹æ¡ˆBçš„36%ï¼‰

3. **è¿‡åº¦ä¼˜åŒ–**
   - é’ˆå¯¹è¯¥60å¤©æ•°æ®ä¼˜åŒ–
   - ç¼“è§£ï¼šåç»­90å¤©éªŒè¯

### ç›‘æ§æŒ‡æ ‡ï¼š

- âš ï¸ å¦‚æœèƒœç‡<30%ï¼šéœ€è¦å›é€€æˆ–è°ƒæ•´
- âš ï¸ å¦‚æœç›ˆäºæ¯”<1.2ï¼šéœ€è¦åˆ†æåŸå› 
- âš ï¸ å¦‚æœæŸå“ç§æ”¶ç›Šéª¤é™ï¼šå•ç‹¬è°ƒæ•´è¯¥å“ç§

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ–¹æ¡ˆDçµæ´»åŒ–ç­–ç•¥è®¾è®¡.md](æ–¹æ¡ˆDçµæ´»åŒ–ç­–ç•¥è®¾è®¡.md) - å®Œæ•´çš„çµæ´»åŒ–æ–¹æ¡ˆè®¾è®¡
- [æ–¹æ¡ˆBå›æµ‹ç»“æœåˆ†æ.md](æ–¹æ¡ˆBå›æµ‹ç»“æœåˆ†æ.md) - æ–¹æ¡ˆDçš„ä¼˜åŒ–åŸºç¡€
- [config/strategy_params.py](config/strategy_params.py:239) - æ–¹æ¡ˆD-Stage1å‚æ•°è¯´æ˜

---

## ğŸ¯ ä¸‹ä¸€é˜¶æ®µé¢„å‘Š

### æ–¹æ¡ˆD-Stage2ï¼šé‡ä»·èƒŒç¦»åˆ†çº§ï¼ˆå¾…ç¬¬1é˜¶æ®µæˆåŠŸåå®æ–½ï¼‰

**æ ¸å¿ƒæ”¹è¿›**ï¼š
```python
# å½“å‰ï¼šå›ºå®š-30åˆ†æƒ©ç½š
é‡ä»·èƒŒç¦» â†’ -30

# Stage2ï¼šåˆ†çº§æƒ©ç½š
ä¸¥é‡èƒŒç¦»ï¼ˆOBVå·®è·>10%ï¼‰ â†’ -30
ä¸­åº¦èƒŒç¦»ï¼ˆOBVå·®è·5-10%ï¼‰ â†’ -20
è½»å¾®èƒŒç¦»ï¼ˆOBVå·®è·<5%ï¼‰ â†’ -10
```

**é¢„æœŸ**ï¼š
- å‡å°‘"è¯¯æ€"ä¸­ç­‰å¼ºåº¦ä¿¡å·
- å†å¢åŠ 2-3ç¬”äº¤æ˜“
- æ”¶ç›Šæå‡1-2%

### æ–¹æ¡ˆD-Stage3ï¼šæƒé‡é‡æ„+è¶‹åŠ¿å»¶ç»­ï¼ˆå¾…Stage2æˆåŠŸåå®æ–½ï¼‰

**æ ¸å¿ƒæ”¹è¿›**ï¼š
- é™ä½EMAé‡‘å‰æƒé‡ï¼š+50 â†’ +35
- æé«˜MACDå¤šå¤´æƒé‡ï¼š+15 â†’ +20
- æé«˜RSI/OBVæƒé‡ï¼š+15 â†’ +20
- æ–°å¢è¶‹åŠ¿å»¶ç»­ä¿¡å·

**é¢„æœŸ**ï¼š
- æ•æ‰è¶‹åŠ¿ä¸­é€”å…¥åœºæœºä¼š
- å†å¢åŠ 3-5ç¬”äº¤æ˜“
- æ”¶ç›Šæå‡2-3%

---

**ç‰ˆæœ¬**: v6.0 (æ–¹æ¡ˆD-Stage1)
**åˆ›å»ºæ—¶é—´**: 2025-10-28
**é¢„æœŸäº¤æ˜“æ•°**: 18-22ç¬”ï¼ˆvs æ–¹æ¡ˆBçš„11ç¬”ï¼‰
**é¢„æœŸæ”¶ç›Š**: +6~9%ï¼ˆvs æ–¹æ¡ˆBçš„+4.52%ï¼‰
**é£é™©ç­‰çº§**: ä½-ä¸­ï¼ˆæ¸è¿›å¼è°ƒæ•´ï¼‰
