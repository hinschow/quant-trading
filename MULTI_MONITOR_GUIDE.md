# 📊 多币种监控系统使用指南

## 🎯 功能特点

这个系统可以**同时监控多个交易对**，并且**自动保存所有买卖信号**到文件，方便后续分析。

**核心功能**：
- ✅ 同时监控多个币种（BTC、ETH、SOL等）
- ✅ 出现买卖信号时自动保存到文件
- ✅ 包含完整交易计划（买入价、止盈、止损）
- ✅ 每分钟显示所有币种状态
- ✅ 信号变化即时提醒
- ✅ 支持CSV和JSON两种格式

---

## 🚀 快速开始

### 基础用法

```bash
# 监控 BTC 和 ETH（最常用）
python multi_monitor.py BTC/USDT ETH/USDT -t 15m --proxy http://127.0.0.1:7890

# 监控更多币种
python multi_monitor.py BTC/USDT ETH/USDT SOL/USDT BNB/USDT -t 15m --proxy http://127.0.0.1:7890

# 使用1小时周期（更稳定的信号）
python multi_monitor.py BTC/USDT ETH/USDT -t 1h --proxy http://127.0.0.1:7890
```

### 完整参数

```bash
python multi_monitor.py <交易对1> <交易对2> ... [选项]

必需参数:
  交易对列表          如: BTC/USDT ETH/USDT SOL/USDT

可选参数:
  -t, --timeframe    K线周期 (1m, 5m, 15m, 1h, 4h)
                     默认: 15m
  -e, --exchange     交易所 (binance, okx, bybit)
                     默认: binance
  --proxy            代理地址
                     如: http://127.0.0.1:7890
```

---

## 📺 运行界面

### 启动界面

```
================================================================================
🚀 多币种交易信号监控系统
================================================================================
监控币种: BTC/USDT, ETH/USDT, SOL/USDT
时间周期: 15m
交易所: binance
代理: http://127.0.0.1:7890
================================================================================

📥 正在初始化各币种数据...

  BTC/USDT: 获取历史数据... ✅ 完成
  ETH/USDT: 获取历史数据... ✅ 完成
  SOL/USDT: 获取历史数据... ✅ 完成

📡 开始监控所有币种...
================================================================================
```

### 状态显示（每分钟更新）

```
────────────────────────────────────────────────────────────────────────────────
📊 当前状态 (17:30:00)
────────────────────────────────────────────────────────────────────────────────
BTC/USDT     | $ 67,234.50 | 📈 TREND       | 🟢 BUY  | 强度:  60/100
ETH/USDT     | $  3,456.78 | ↔️ RANGE       | ⚪ HOLD | 强度:   0/100
SOL/USDT     | $   145.23 | 🔥 STRONG_TREND | 🟢 BUY  | 强度:  75/100
────────────────────────────────────────────────────────────────────────────────
```

### 信号提醒（出现买卖信号时）

```
================================================================================
🔔 🟢 新信号！ - BTC/USDT
================================================================================
时间: 2025-10-24 17:32:15
操作: BUY (强度: 60/100)

📋 交易计划:
  🟢 买入: $67234.50
  🎯 止盈: $69251.54 (+3.0%)
  🛑 止损: $66225.98 (-1.5%)

理由:
  • 处于上升趋势
  • MACD多头排列
  • RSI健康(55.3)

================================================================================

💾 信号已保存到日志文件
```

---

## 📁 信号保存文件

所有信号会自动保存到 `signal_logs/` 目录：

### CSV文件格式

文件名：`signal_logs/signals_20251024.csv`

| 时间 | 交易对 | 时间周期 | 市场状态 | 操作 | 信号强度 | 当前价格 | 买入价 | 止盈价 | 止损价 | 止盈% | 止损% | 风险回报比 | 信号理由 | RSI | ADX | MACD |
|------|--------|---------|---------|------|---------|---------|--------|--------|--------|-------|-------|-----------|---------|-----|-----|------|
| 2025-10-24 17:32:15 | BTC/USDT | 15m | TREND | BUY | 60 | 67234.50 | 67234.50 | 69251.54 | 66225.98 | 3.0 | 1.5 | 2.00 | 处于上升趋势 \| MACD多头排列 | 55.3 | 28.5 | 234.56 |
| 2025-10-24 17:45:30 | SOL/USDT | 15m | STRONG_TREND | BUY | 75 | 145.23 | 145.23 | 149.59 | 143.05 | 3.0 | 1.5 | 2.00 | EMA金叉(50上穿200) \| MACD金叉 | 58.7 | 35.2 | 12.34 |

**用途**：
- ✅ 用 Excel 打开，直接查看所有信号
- ✅ 筛选特定币种的信号
- ✅ 统计成功率
- ✅ 分析信号质量

### JSON文件格式

文件名：`signal_logs/signals_20251024.json`

```json
[
  {
    "timestamp": "2025-10-24 17:32:15",
    "symbol": "BTC/USDT",
    "timeframe": "15m",
    "exchange": "binance",
    "market_regime": "TREND",
    "action": "BUY",
    "strength": 60,
    "current_price": 67234.5,
    "entry_price": 67234.5,
    "take_profit_price": 69251.54,
    "stop_loss_price": 66225.98,
    "take_profit_pct": 3.0,
    "stop_loss_pct": 1.5,
    "risk_reward_ratio": 2.0,
    "reasons": "处于上升趋势 | MACD多头排列 | RSI健康(55.3)",
    "rsi": 55.3,
    "adx": 28.5,
    "macd": 234.56
  }
]
```

**用途**：
- ✅ 用于程序化分析
- ✅ 导入数据库
- ✅ 自定义数据处理

---

## 💡 使用场景

### 场景1：日常监控（推荐）

监控几个主流币种，等待买卖信号：

```bash
python multi_monitor.py BTC/USDT ETH/USDT SOL/USDT -t 15m --proxy http://127.0.0.1:7890
```

**适用于**：
- 不想盯盘，等系统提醒
- 关注多个币种，不会遗漏机会
- 保存所有信号，方便回顾

### 场景2：长期运行（挂机监控）

使用1小时周期，减少噪音信号：

```bash
# 推荐使用 nohup 或 screen 在后台运行
nohup python multi_monitor.py BTC/USDT ETH/USDT BNB/USDT -t 1h --proxy http://127.0.0.1:7890 > monitor.log 2>&1 &
```

**适用于**：
- 长期挂机监控
- 捕捉重要信号
- 不在电脑前也能记录

### 场景3：信号回测

先运行几天收集信号数据，然后分析：

```bash
# 运行3-7天
python multi_monitor.py BTC/USDT ETH/USDT -t 15m --proxy http://127.0.0.1:7890

# 之后打开 signal_logs/*.csv 分析
# - 哪些信号准确率高？
# - 什么时间段信号多？
# - 哪个币种机会多？
```

---

## 📊 信号分析技巧

### 1. 用Excel打开CSV文件

**筛选高质量信号**：
- 信号强度 > 60 的
- 风险回报比 > 1.5 的
- 特定市场状态（如只看TREND）

**统计分析**：
- 每个币种出现多少次信号
- 买入信号 vs 卖出信号比例
- 平均信号强度

### 2. 跟踪信号效果

在CSV中添加列：
- **实际执行**：是否按信号入场
- **执行价格**：实际买入/卖出价
- **结果**：盈利/亏损/持仓中
- **盈亏百分比**：实际盈亏

**示例**：

| 时间 | 交易对 | 操作 | 买入价 | 止盈价 | 止损价 | 实际执行 | 结果 | 盈亏% |
|------|--------|------|--------|--------|--------|---------|------|-------|
| 17:32 | BTC/USDT | BUY | 67234.50 | 69251.54 | 66225.98 | ✅ | 止盈 | +3.0% |
| 17:45 | ETH/USDT | BUY | 3456.78 | 3526.42 | 3404.93 | ✅ | 止损 | -1.5% |
| 18:10 | SOL/USDT | BUY | 145.23 | 149.59 | 143.05 | ❌ | 未执行 | - |

---

## 🎯 推荐监控币种

### 主流币种（高流动性）
```bash
python multi_monitor.py BTC/USDT ETH/USDT BNB/USDT -t 15m --proxy http://127.0.0.1:7890
```

### 热门山寨币
```bash
python multi_monitor.py SOL/USDT AVAX/USDT MATIC/USDT -t 15m --proxy http://127.0.0.1:7890
```

### 组合监控（主流+山寨）
```bash
python multi_monitor.py BTC/USDT ETH/USDT SOL/USDT AVAX/USDT BNB/USDT -t 15m --proxy http://127.0.0.1:7890
```

⚠️ **注意**：不建议同时监控超过10个币种，会影响性能和专注度。

---

## 🛠️ 高级用法

### 保存运行日志

```bash
# 将所有输出保存到文件
python multi_monitor.py BTC/USDT ETH/USDT -t 15m --proxy http://127.0.0.1:7890 | tee monitor_output.log
```

### 后台运行

```bash
# 使用 nohup
nohup python multi_monitor.py BTC/USDT ETH/USDT -t 15m --proxy http://127.0.0.1:7890 > monitor.log 2>&1 &

# 查看日志
tail -f monitor.log

# 停止
ps aux | grep multi_monitor
kill <PID>
```

### 定时清理旧日志

```bash
# 删除7天前的日志
find signal_logs/ -name "signals_*.csv" -mtime +7 -delete
find signal_logs/ -name "signals_*.json" -mtime +7 -delete
```

---

## ❓ 常见问题

### Q: 信号文件在哪里？

**A**: 在项目根目录的 `signal_logs/` 文件夹：
```
quant-trading/
├── signal_logs/
│   ├── signals_20251024.csv
│   └── signals_20251024.json
```

### Q: 如何只看某个币种的信号？

**A**: 打开CSV文件，使用Excel的筛选功能：
1. 打开 `signals_YYYYMMDD.csv`
2. 点击"交易对"列的筛选按钮
3. 选择要查看的币种（如 BTC/USDT）

### Q: 信号太多了怎么办？

**A**: 有几个方法：
1. 使用更长的时间周期（1h或4h）
2. 只监控2-3个币种
3. 在CSV中筛选"信号强度 > 60"的

### Q: 可以同时运行多个监控吗？

**A**: 可以！不同终端运行不同组合：
```bash
# 终端1: 主流币15分钟
python multi_monitor.py BTC/USDT ETH/USDT -t 15m --proxy http://127.0.0.1:7890

# 终端2: 山寨币1小时
python multi_monitor.py SOL/USDT AVAX/USDT -t 1h --proxy http://127.0.0.1:7890
```

### Q: 信号准确率多少？

**A**: 需要自己回测验证：
1. 运行系统收集信号3-7天
2. 打开CSV文件，手动标记每个信号的结果
3. 计算：成功次数 / 总信号数

建议：
- 只跟随信号强度 > 60 的
- 严格执行止盈止损
- 记录每次交易结果

---

## 🎊 总结

这个多币种监控系统让你：
- ✅ **不会错过机会**：同时监控多个币种
- ✅ **有据可查**：所有信号自动保存
- ✅ **方便分析**：CSV格式，Excel直接打开
- ✅ **省时省力**：不用盯盘，等信号提醒

**推荐工作流程**：
1. 早上启动监控（2-5个币种）
2. 听到信号提醒 → 查看详情 → 决定是否入场
3. 晚上打开CSV文件 → 回顾今日信号 → 标记执行结果
4. 每周分析 → 总结经验 → 优化策略

祝交易顺利！📈
